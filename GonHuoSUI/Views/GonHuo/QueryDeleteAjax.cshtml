
@{
    ViewBag.Title = "QueryDeleteAjax";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                名称
                <input type="text" name="GName" value="@Model.GName" class="form-control" />
            </div>
            <div class="col-md-4">
                类型
                @Html.DropDownList("GType", null, htmlAttributes: new { @class = "form-control", @style = "width:100px;" })
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                邮箱
                <input type="text" name="Email" value="@Model.Email" class="form-control" />
            </div>
            <div class="col-md-4">
                邮编
                <input type="text" name="Youbian" value="@Model.Youbian" class="form-control" />
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                联系电话
                <input type="text" name="Phone" value="@Model.Phone" class="form-control" />
            </div>
            <div class="col-md-4">
                地址
                <input type="text" name="GAddress" value="@Model.GAddress" class="form-control" />
                <input type="hidden" name="Gid" value="@Model.Gid" class="form-control" />
            </div>
        </div>
        <div class="row" style="margin-top:10px;">
            <div class="col-md-4 text-right">
                <button type="button" id="btnDele" class="btn btn-success">删除</button>
                <a href="@Url.Action("Queryssss")" class="btn btn-success">返回列表</a>
            </div>
        </div>
        <script type="text/javascript">
        $(document).ready(function () {
            $("#btnDele").click(addAction);
        });

        function addAction() {
            var formValues = $("form").serializeArray();
            var objjson = {};
            $.each(formValues, function (index, value) {
                objjson[value.name] = value.value;
            });
            $.ajax({
                url: "@Url.Action("DeleAjax")",
                data: objjson,
                dataType: "json",
                type: "get",
                success: function (result) {
                    alert(result.Msg);
                }
            });
        };
        </script>
    </div>
</form>

